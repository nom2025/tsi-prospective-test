# 地震データ分析プロジェクト

地震データの収集、前処理、分析、可視化を行うプロジェクトです。

## プロジェクト構造

```
プロジェクトルート/
├── 生データ/                # 生データ（元データ、変更不可）
├── 仕様書/                  # 仕様書関連ファイル
├── データ分析結果出力/        # データ分析結果
│   ├── [スコアCSVファイル]    # スコア計算結果
│   └── 特徴探索結果/          # 特徴探索の結果
├── グラフ/                    # グラフ・図表の出力先
├── ソース/                    # ソースファイル（分析スクリプト）
└── 元のソース/                # 元のソースコード
```

## セットアップ

### 1. 仮想環境の作成（推奨）

```bash
python -m venv venv
```

### 2. 仮想環境の有効化

**Windows:**
```bash
venv\Scripts\activate
```

**macOS/Linux:**
```bash
source venv/bin/activate
```

### 3. 依存パッケージのインストール

```bash
pip install -r requirements.txt
```

## 使用方法

### スコア計算

```bash
python ソース/calculate_scores.py
```

### グラフ作成

```bash
python ソース/create_graphs.py
```

### 特徴探索（新機能）

```bash
python ソース/explore_features.py
```

詳細は `特徴探索ガイド.md` を参照してください。

## データソース

使用する地震データのソースをここに記載してください。

- 気象庁
- USGS（アメリカ地質調査所）
- その他

## 分析内容

### 基本分析（既存）
- マグニチュード分布の分析
- 震源地の地理的分布
- 深さの分布
- 時系列分析
- 地域別統計

### 特徴探索（新機能）
- 地域別パターン分析（地域間の相関）
- マグニチュードトレンド分析（移動平均、変化率）
- 地震発生間隔分析
- 世界地震と国内地震の相関分析
- 深さとマグニチュードの関係分析
- 季節性パターン分析
- マグニチュード分布の特徴量分析（歪度・尖度）

詳細は `データ分析結果出力/特徴探索結果/活用可能な特徴まとめ.md` を参照してください。

## 開発ルール

詳細な開発ルールは`.cursorrules`ファイルを参照してください。

## プロジェクトの現状

### 現在のファイル構成

**実際に使用されているフォルダ:**
- `生データ/` - 地震データのCSVファイル（2010-all.csv, world-all.csv, depth.csv）
- `仕様書/` - システム仕様書
- `データ分析結果出力/` - スコア計算結果のCSVファイル
  - `データ分析結果出力/特徴探索結果/` - 特徴探索結果のCSVファイルとレポート
- `グラフ/` - 可視化グラフ（PNGファイル）
- `ソース/` - 分析スクリプト（calculate_scores.py, create_graphs.py, explore_features.py）
- `元のソース/` - 元のソースコード

**主要なドキュメント:**
- `プロジェクト状態.md` - プロジェクトの現在の状態と次のステップ
- `特徴探索ガイド.md` - 特徴探索機能の使い方
- `データ分析結果出力/特徴探索結果/活用可能な特徴まとめ.md` - 発見された特徴の詳細

### データフロー

```
生データ/ (CSVファイル)
    ↓
ソース/calculate_scores.py  →  データ分析結果出力/ (スコアCSVファイル)
    ↓
ソース/create_graphs.py  →  グラフ/ (PNGファイル)

生データ/ (CSVファイル)
    ↓
ソース/explore_features.py  →  データ分析結果出力/特徴探索結果/ (特徴探索CSVファイル)
```

## プロジェクトの最新状態

詳細は `プロジェクト状態.md` を参照してください。

**主な成果:**
- ✅ 基本スコア計算システムの実装完了
- ✅ 特徴探索機能の実装完了
- ✅ 7種類の新しい特徴パターンを発見
- ✅ M7発生前のパターン、世界地震との相関、地域間の相関など、予測に有用な特徴を特定

**次のステップ:**
- 発見された特徴をスコア計算に組み込む（優先度：高）
- マグニチュードトレンドの活用（優先度：中）

## ライセンス

（必要に応じて記載）

